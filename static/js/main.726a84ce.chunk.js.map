{"version":3,"sources":["Stack.js","Card.js","Pile.js","Stock.js","data/cards.js","utils.js","Foundation.js","Foundations.js","Tableau.js","Tableaus.js","models/card.js","PopUp.js","Game.js","index.js"],"names":["Stack","drag","event","dataTransfer","setData","target","id","react_default","a","createElement","className","onClick","this","props","unicode","React","Component","Card","_this$props$card","card","color","draggable","onDragStart","Pile","cardIds","JSON","stringify","parentNode","src_Card","bind","Stock","src_Stack","stackLength","onStackClick","src_Pile","cards","type","number","getCard","find","getIndex","split","Foundation","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","drop","assertThisInitialized","allowDrop","addToFoundation","removeFromFoundation","removeFromPile","removeFromTableau","preventDefault","topCard","foundation","length","ld","last","areConsecutiveOfSameSuit","parse","getData","sourceId","foundationIndex","canPlayedOnFoundation","sourceIndex","startsWith","onDragOver","onDrop","Foundations","foundations","src_Foundation","key","foundationsList","map","createFoundations","Tableau","addToTableau","faceDownCards","faceUpCards","_this2","tableau","createFaceDownCards","createFaceUpCard","draggedCardId","index","findIndex","slice","topCardOfTableau","_this$props$tableau","isTableauEmpty","isAlternateDescendant","cardId","tableauIndex","getCards","canPlayedOnTableau","first","_this$createCards","createCards","Tableaus","tableaus","uniqueId","src_Tableau","createTableaus","PopUp","href","Game","deck","createDeck","_this$createTableausF","createTableausFromDeck","cloneDeep","stack","state","hasWon","pile","setState","numberOfCards","splice","isSwappingRequired","pop","push","concat","shuffle","i","shift","every","_this3","drawnCard","unshift","addToPile","drawCard","reloadStack","_this$getDetailsForSt","getDetailsForStack","src_PopUp","src_Stock","head","src_Foundations","dropOnFoundation","src_Tableaus","dropOnTableau","ReactDOM","render","src_Game","document","getElementById"],"mappings":"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","file":"static/js/main.726a84ce.chunk.js","sourcesContent":["import React from 'react';\nimport './main.css';\n\nclass Stack extends React.Component {\n  drag = event => {\n    event.dataTransfer.setData('text', event.target.id);\n  };\n\n  render() {\n    return (\n      <div className=\"container purple card\" onClick={this.props.onClick}>\n        {this.props.unicode}\n      </div>\n    );\n  }\n}\n\nexport default Stack;\n","import React from 'react';\nimport './main.css';\n\nclass Card extends React.Component {\n  render() {\n    const { unicode, color } = this.props.card;\n    if (this.props.drag) {\n      this.drag = this.props.drag;\n    }\n\n    const className = 'card ' + color + ' ' + this.props.className;\n\n    return (\n      <div\n        draggable=\"true\"\n        id={unicode}\n        onDragStart={this.props.drag}\n        className={className}\n      >\n        {unicode}\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport './main.css';\n\nclass Pile extends React.Component {\n  drag(event) {\n    const cardIds = event.target.id;\n    event.dataTransfer.setData('cardIds', JSON.stringify([cardIds]));\n    event.dataTransfer.setData('sourceId', event.target.parentNode.id);\n  }\n\n  render() {\n    if (this.props.card) {\n      return (\n        <div className=\"container\" id=\"pile\">\n          <Card drag={this.drag.bind(this)} card={this.props.card} />\n        </div>\n      );\n    }\n    return <div className=\"container\" />;\n  }\n}\n\nexport default Pile;\n","import React from 'react';\nimport Stack from './Stack';\nimport Pile from './Pile';\nimport './main.css';\n\nclass Stock extends React.Component {\n  render() {\n    return (\n        <div className=\"stock-side\">\n        <Stack\n          unicode={this.props.unicode}\n          stackLength={this.props.stackLength}\n          onClick={this.props.onStackClick}\n        />\n        <Pile card={this.props.card} />\n      </div>\n    );\n  }\n}\n\nexport default Stock;\n","const cards = [\n  {\n    type: 'spade',\n    number: 1,\n    color: 'black',\n    unicode: '\\u{1F0A1}'\n  },\n  {\n    type: 'spade',\n    number: 2,\n    color: 'black',\n    unicode: '\\u{1F0A2}'\n  },\n  {\n    type: 'spade',\n    number: 3,\n    color: 'black',\n    unicode: '\\u{1F0A3}'\n  },\n  {\n    type: 'spade',\n    number: 4,\n    color: 'black',\n    unicode: '\\u{1F0A4}'\n  },\n  {\n    type: 'spade',\n    number: 5,\n    color: 'black',\n    unicode: '\\u{1F0A5}'\n  },\n  {\n    type: 'spade',\n    number: 6,\n    color: 'black',\n    unicode: '\\u{1F0A6}'\n  },\n  {\n    type: 'spade',\n    number: 7,\n    color: 'black',\n    unicode: '\\u{1F0A7}'\n  },\n  {\n    type: 'spade',\n    number: 8,\n    color: 'black',\n    unicode: '\\u{1F0A8}'\n  },\n  {\n    type: 'spade',\n    number: 9,\n    color: 'black',\n    unicode: '\\u{1F0A9}'\n  },\n  {\n    type: 'spade',\n    number: 10,\n    color: 'black',\n    unicode: '\\u{1F0AA}'\n  },\n  {\n    type: 'spade',\n    number: 11,\n    color: 'black',\n    unicode: '\\u{1F0AB}'\n  },\n  {\n    type: 'spade',\n    number: 12,\n    color: 'black',\n    unicode: '\\u{1F0AD}'\n  },\n  {\n    type: 'spade',\n    number: 13,\n    color: 'black',\n    unicode: '\\u{1F0AE}'\n  },\n  {\n    type: 'club',\n    number: 1,\n    color: 'black',\n    unicode: '\\u{1F0D1}'\n  },\n  {\n    type: 'club',\n    number: 2,\n    color: 'black',\n    unicode: '\\u{1F0D2}'\n  },\n  {\n    type: 'club',\n    number: 3,\n    color: 'black',\n    unicode: '\\u{1F0D3}'\n  },\n  {\n    type: 'club',\n    number: 4,\n    color: 'black',\n    unicode: '\\u{1F0D4}'\n  },\n  {\n    type: 'club',\n    number: 5,\n    color: 'black',\n    unicode: '\\u{1F0D5}'\n  },\n  {\n    type: 'club',\n    number: 6,\n    color: 'black',\n    unicode: '\\u{1F0D6}'\n  },\n  {\n    type: 'club',\n    number: 7,\n    color: 'black',\n    unicode: '\\u{1F0D7}'\n  },\n  {\n    type: 'club',\n    number: 8,\n    color: 'black',\n    unicode: '\\u{1F0D8}'\n  },\n  {\n    type: 'club',\n    number: 9,\n    color: 'black',\n    unicode: '\\u{1F0D9}'\n  },\n  {\n    type: 'club',\n    number: 10,\n    color: 'black',\n    unicode: '\\u{1F0DA}'\n  },\n  {\n    type: 'club',\n    number: 11,\n    color: 'black',\n    unicode: '\\u{1F0DB}'\n  },\n  {\n    type: 'club',\n    number: 12,\n    color: 'black',\n    unicode: '\\u{1F0DD}'\n  },\n  {\n    type: 'club',\n    number: 13,\n    color: 'black',\n    unicode: '\\u{1F0DE}'\n  },\n  {\n    type: 'diamond',\n    number: 1,\n    color: 'red',\n    unicode: '\\u{1F0C1}'\n  },\n  {\n    type: 'diamond',\n    number: 2,\n    color: 'red',\n    unicode: '\\u{1F0C2}'\n  },\n  {\n    type: 'diamond',\n    number: 3,\n    color: 'red',\n    unicode: '\\u{1F0C3}'\n  },\n  {\n    type: 'diamond',\n    number: 4,\n    color: 'red',\n    unicode: '\\u{1F0C4}'\n  },\n  {\n    type: 'diamond',\n    number: 5,\n    color: 'red',\n    unicode: '\\u{1F0C5}'\n  },\n  {\n    type: 'diamond',\n    number: 6,\n    color: 'red',\n    unicode: '\\u{1F0C6}'\n  },\n  {\n    type: 'diamond',\n    number: 7,\n    color: 'red',\n    unicode: '\\u{1F0C7}'\n  },\n  {\n    type: 'diamond',\n    number: 8,\n    color: 'red',\n    unicode: '\\u{1F0C8}'\n  },\n  {\n    type: 'diamond',\n    number: 9,\n    color: 'red',\n    unicode: '\\u{1F0C9}'\n  },\n  {\n    type: 'diamond',\n    number: 10,\n    color: 'red',\n    unicode: '\\u{1F0CA}'\n  },\n  {\n    type: 'diamond',\n    number: 11,\n    color: 'red',\n    unicode: '\\u{1F0CB}'\n  },\n  {\n    type: 'diamond',\n    number: 12,\n    color: 'red',\n    unicode: '\\u{1F0CD}'\n  },\n  {\n    type: 'diamond',\n    number: 13,\n    color: 'red',\n    unicode: '\\u{1F0CE}'\n  },\n  {\n    type: 'heart',\n    number: 1,\n    color: 'red',\n    unicode: '\\u{1F0B1}'\n  },\n  {\n    type: 'heart',\n    number: 2,\n    color: 'red',\n    unicode: '\\u{1F0B2}'\n  },\n  {\n    type: 'heart',\n    number: 3,\n    color: 'red',\n    unicode: '\\u{1F0B3}'\n  },\n  {\n    type: 'heart',\n    number: 4,\n    color: 'red',\n    unicode: '\\u{1F0B4}'\n  },\n  {\n    type: 'heart',\n    number: 5,\n    color: 'red',\n    unicode: '\\u{1F0B5}'\n  },\n  {\n    type: 'heart',\n    number: 6,\n    color: 'red',\n    unicode: '\\u{1F0B6}'\n  },\n  {\n    type: 'heart',\n    number: 7,\n    color: 'red',\n    unicode: '\\u{1F0B7}'\n  },\n  {\n    type: 'heart',\n    number: 8,\n    color: 'red',\n    unicode: '\\u{1F0B8}'\n  },\n  {\n    type: 'heart',\n    number: 9,\n    color: 'red',\n    unicode: '\\u{1F0B9}'\n  },\n  {\n    type: 'heart',\n    number: 10,\n    color: 'red',\n    unicode: '\\u{1F0BA}'\n  },\n  {\n    type: 'heart',\n    number: 11,\n    color: 'red',\n    unicode: '\\u{1F0BB}'\n  },\n  {\n    type: 'heart',\n    number: 12,\n    color: 'red',\n    unicode: '\\u{1F0BD}'\n  },\n  {\n    type: 'heart',\n    number: 13,\n    color: 'red',\n    unicode: '\\u{1F0BE}'\n  }\n];\n\nexport default cards;\n","import cards from './data/cards';\n\nconst getCard = function(unicode) {\n  return cards.find(card => {\n    return card.unicode === unicode;\n  });\n};\n\nconst getIndex = function(id) {\n  return +id.split('-')[1];\n};\n\nexport { getCard, getIndex };\n","import React from 'react';\nimport Card from './Card';\nimport { getCard, getIndex } from './utils';\nimport './main.css';\nimport ld from 'lodash';\n\nclass Foundation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.drop = this.drop.bind(this);\n    this.allowDrop = this.allowDrop.bind(this);\n    this.addToFoundation = this.props.addToFoundation;\n    this.removeFromFoundation = this.props.removeFromFoundation;\n    this.removeFromPile = this.props.removeFromPile;\n    this.removeFromTableau = this.props.removeFromTableau;\n  }\n\n  allowDrop(event) {\n    event.preventDefault();\n  }\n\n  drag(event) {\n    event.dataTransfer.setData('id', event.target.id);\n    event.dataTransfer.setData('sourceId', event.target.parentNode.id);\n  }\n\n  getIndex(id) {\n    return +id.split('-')[1];\n  }\n\n  areConsecutiveOfSameSuit(topCard, card) {\n    return topCard.type === card.type && topCard.number === card.number - 1;\n  }\n\n  canPlayedOnFoundation(card) {\n    const { foundation } = this.props;\n    if (foundation.length === 0) {\n      return card.number === 1;\n    }\n\n    const topCard = ld.last(this.props.foundation);\n    if (this.areConsecutiveOfSameSuit(topCard, card)) {\n      return true;\n    }\n  }\n\n  drop(event) {\n    event.preventDefault();\n    const cardIds = JSON.parse(event.dataTransfer.getData('cardIds'));\n    const sourceId = event.dataTransfer.getData('sourceId');\n    const id = cardIds[0];\n    const card = getCard(id);\n\n    let foundationIndex = getIndex(this.props.id);\n\n    if (!this.canPlayedOnFoundation(card)) {\n      return;\n    }\n\n    this.addToFoundation(foundationIndex, card);\n\n    const sourceIndex = getIndex(sourceId);\n\n    if (sourceId.startsWith('tableau')) {\n      return this.removeFromTableau(sourceIndex, [card]);\n    }\n\n    if (sourceId.startsWith('foundation')) {\n      return this.removeFromFoundation(sourceIndex);\n    }\n\n    this.removeFromPile();\n  }\n\n  render() {\n    const card = ld.last(this.props.foundation);\n    if (!card) {\n      return (\n        <div\n          id={this.props.id}\n          onDragOver={this.allowDrop}\n          onDrop={this.drop}\n          className=\"container\"\n        />\n      );\n    }\n\n    return (\n      <div\n        id={this.props.id}\n        onDragOver={this.allowDrop}\n        onDrop={this.drop}\n        className=\"container\"\n      >\n        <Card drag={this.drag.bind(this)} card={card} />\n      </div>\n    );\n  }\n}\n\nexport default Foundation;\n","import React from 'react';\nimport Foundation from './Foundation';\nimport './main.css';\n\nclass Foundations extends React.Component {\n  createFoundations(id) {\n    const { foundations } = this.props;\n    return (\n      <Foundation\n        id={'foundation-' + id}\n        key={'foundation-' + id}\n        onDrop={this.props.onDrop}\n        addToFoundation={this.props.addToFoundation}\n        removeFromFoundation={this.props.removeFromFoundation}\n        removeFromPile={this.props.removeFromPile}\n        removeFromTableau={this.props.removeFromTableau}\n        foundation={foundations[id]}\n      />\n    );\n  }\n\n  render() {\n    const dummyArray = [0, 1, 2, 3];\n    const foundationsList = dummyArray.map(this.createFoundations.bind(this));\n\n    return <div className=\"foundations\">{foundationsList}</div>;\n  }\n}\n\nexport default Foundations;\n","import React from 'react';\nimport Card from './Card';\nimport ld from 'lodash';\nimport { getCard, getIndex } from './utils';\nimport './main.css';\n\nconst FACE_DOWN_CARD_UNICODE = '\\u{1F0A0}';\n\nclass Tableau extends React.Component {\n  constructor(props) {\n    super(props);\n    this.drop = this.drop.bind(this);\n    this.addToTableau = this.props.addToTableau;\n    this.removeFromPile = this.props.removeFromPile;\n    this.removeFromFoundation = this.props.removeFromFoundation;\n    this.removeFromTableau = this.props.removeFromTableau;\n  }\n\n  createFaceDownCards(faceDownCards) {\n    const card = { unicode: FACE_DOWN_CARD_UNICODE, color: 'purple' };\n    return faceDownCards.map(() => {\n      return <Card card={card} className={'tableau-card'} />;\n    });\n  }\n\n  createFaceUpCard(faceUpCards) {\n    return faceUpCards.map(card => {\n      return (\n        <Card\n          className={'tableau-card'}\n          drag={this.drag.bind(this)}\n          card={card}\n        />\n      );\n    });\n  }\n\n  createCards(tableau) {\n    const faceDownCards = this.createFaceDownCards(tableau.faceDownCards);\n    const faceUpCards = this.createFaceUpCard(tableau.faceUpCards);\n    return { faceDownCards, faceUpCards };\n  }\n\n  drag(event) {\n    const draggedCardId = event.target.id;\n    const { faceUpCards } = this.props.tableau;\n    const index = faceUpCards.findIndex(card => {\n      return card.unicode === draggedCardId;\n    });\n    const requiredCards = faceUpCards.slice(index);\n    const cardIds = requiredCards.map(card => {\n      return card.unicode;\n    });\n    event.dataTransfer.setData('cardIds', JSON.stringify(cardIds));\n    event.dataTransfer.setData('sourceId', event.target.parentNode.id);\n  }\n\n  allowDrop = event => {\n    event.preventDefault();\n  };\n\n  getIndex(id) {\n    return +id.split('-')[1];\n  }\n\n  isAlternateDescendant(topCardOfTableau, card) {\n    return (\n      topCardOfTableau.color !== card.color &&\n      topCardOfTableau.number === card.number + 1\n    );\n  }\n\n  isTableauEmpty() {\n    const { faceUpCards, faceDownCards } = this.props.tableau;\n    return faceUpCards.length === 0 && faceDownCards.length === 0;\n  }\n\n  canPlayedOnTableau(card) {\n    const faceUpCards = this.props.tableau.faceUpCards;\n    const topCardOfTableau = ld.last(faceUpCards);\n\n    if (this.isTableauEmpty()) {\n      return card.number === 13;\n    }\n\n    if (this.isAlternateDescendant(topCardOfTableau, card)) {\n      return true;\n    }\n    return false;\n  }\n\n  getCards(cardIds) {\n    return cardIds.map(cardId => {\n      return getCard(cardId);\n    });\n  }\n\n  drop(event) {\n    const sourceId = event.dataTransfer.getData('sourceId');\n    const cardIds = JSON.parse(event.dataTransfer.getData('cardIds'));\n    const sourceIndex = getIndex(sourceId);\n    const tableauIndex = getIndex(this.props.id);\n    const cards = this.getCards(cardIds);\n\n    if (!this.canPlayedOnTableau(ld.first(cards))) {\n      return;\n    }\n\n    this.addToTableau(tableauIndex, cards);\n\n    if (sourceId.startsWith('pile')) {\n      return this.removeFromPile();\n    }\n\n    if (sourceId.startsWith('foundation')) {\n      return this.removeFromFoundation(sourceIndex);\n    }\n\n    this.removeFromTableau(sourceIndex, cards);\n  }\n\n  render() {\n    const { tableau } = this.props;\n\n    if (\n      tableau.faceDownCards.length === 0 &&\n      tableau.faceUpCards.length === 0\n    ) {\n      return (\n        <div\n          onDragOver={this.allowDrop}\n          onDrop={this.drop}\n          id={this.props.id}\n          className=\"tableau\"\n        >\n          <div className=\"tableau-card-container\" />\n        </div>\n      );\n    }\n\n    const { faceDownCards, faceUpCards } = this.createCards(tableau);\n    return (\n      <div\n        onDragOver={this.allowDrop}\n        onDrop={this.drop}\n        className=\"tableau\"\n        id={this.props.id}\n      >\n        {faceDownCards} {faceUpCards}\n      </div>\n    );\n  }\n}\n\nexport default Tableau;\n","import React from 'react';\nimport Tableau from './Tableau';\nimport './main.css';\n\nclass Tableaus extends React.Component {\n  createTableaus(tableaus) {\n    let index = 0;\n    return tableaus.map(tableau => {\n      const uniqueId = 'tableau-' + index++;\n      return (\n        <Tableau\n          addToTableau={this.props.addToTableau}\n          removeFromFoundation={this.props.removeFromFoundation}\n          removeFromPile={this.props.removeFromPile}\n          removeFromTableau={this.props.removeFromTableau}\n          onDrop={this.props.onDrop}\n          id={uniqueId}\n          key={uniqueId}\n          tableau={tableau}\n        />\n      );\n    });\n  }\n\n  render() {\n    const { tableaus } = this.props;\n\n    return <div className=\"tableaus\">{this.createTableaus(tableaus)}</div>;\n  }\n}\n\nexport default Tableaus;\n","class Card {\n    constructor(type, number, unicode, color) {\n        this.type = type;\n        this.number = number;\n        this.unicode = unicode;\n        this.color = color;\n    }\n}\n\nexport default Card;","import React from 'react';\nimport './main.css';\n\nclass PopUp extends React.Component {\n  render() {\n    return (\n      <div className=\"pop-up\">\n        <div>You have won the game</div>\n        <a href=\"/\">Play again</a>\n      </div>\n    );\n  }\n}\n\nexport default PopUp;\n","import React from 'react';\nimport Stock from './Stock';\nimport Foundations from './Foundations';\nimport Tableaus from './Tableaus';\nimport cards from './data/cards';\nimport Card from './models/card';\nimport PopUp from './PopUp';\nimport ld from 'lodash';\n\nconst CARD_BACK_UNICODE = '\\u{1F0A0}';\nconst RELOAD_BUTTON_UNICODE = '\\u{21BB}';\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    const deck = this.createDeck();\n    const { stack, tableaus } = this.createTableausFromDeck(ld.cloneDeep(deck));\n    this.addToFoundation = this.addToFoundation.bind(this);\n    this.addToTableau = this.addToTableau.bind(this);\n    this.removeFromPile = this.removeFromPile.bind(this);\n    this.removeFromFoundation = this.removeFromFoundation.bind(this);\n    this.removeFromTableau = this.removeFromTableau.bind(this);\n    this.state = {\n      tableaus,\n      hasWon: false,\n      stack,\n      foundations: [[], [], [], []],\n      pile: []\n    };\n  }\n\n  getIndex(id) {\n    return id.split('-')[1];\n  }\n\n  isSourceFoundation(sourceId) {\n    return sourceId.startsWith('foundation');\n  }\n\n  isSwappingRequired(tableau) {\n    return tableau.faceUpCards.length === 0 && tableau.faceDownCards.length > 0;\n  }\n\n  removeFromTableau(index, cards) {\n    this.setState(state => {\n      const tableaus = ld.cloneDeep(state.tableaus);\n      const tableau = tableaus[index];\n      const numberOfCards = cards.length;\n      tableau.faceUpCards.splice(-numberOfCards);\n\n      if (this.isSwappingRequired(tableau)) {\n        const card = ld.last(tableau.faceDownCards);\n        tableau.faceDownCards.pop();\n        tableau.faceUpCards.push(card);\n      }\n      return { tableaus };\n    });\n  }\n\n  addToTableau(index, cards) {\n    this.setState(state => {\n      const tableaus = ld.cloneDeep(state.tableaus);\n      const tableau = tableaus[index];\n      tableau.faceUpCards = tableau.faceUpCards.concat(cards);\n      return { tableaus };\n    });\n  }\n\n  createDeck() {\n    const stack = cards.map(card => {\n      return new Card(card.type, card.number, card.unicode, card.color);\n    });\n    return ld.shuffle(stack);\n  }\n\n  createTableausFromDeck(deck) {\n    const tableaus = [];\n    const stack = ld.cloneDeep(deck);\n    for (let i = 1; i <= 7; i++) {\n      const cards = stack.splice(-i);\n      const faceDownCards = cards.slice(0, cards.length - 1);\n      const faceUpCards = cards.slice(-1);\n      const tableau = { faceDownCards, faceUpCards };\n      tableaus.push(tableau);\n    }\n    return { stack, tableaus };\n  }\n\n  removeFromPile() {\n    this.setState(state => {\n      const pile = ld.cloneDeep(state.pile);\n      pile.shift();\n      return { pile };\n    });\n  }\n\n  removeFromFoundation(index) {\n    this.setState(state => {\n      const foundations = ld.cloneDeep(state.foundations);\n      foundations[index].pop();\n      return { foundations };\n    });\n  }\n\n  hasWon(foundations) {\n    return foundations.every(foundation => {\n      return foundation.length === 13;\n    });\n  }\n\n  addToFoundation(index, card) {\n    this.setState(state => {\n      const foundations = ld.cloneDeep(state.foundations);\n      foundations[index].push(card);\n      let hasWon = false;\n      if (this.hasWon(foundations)) {\n        hasWon = true;\n      }\n      return { foundations, hasWon };\n    });\n  }\n\n  addToPile(drawnCard) {\n    this.setState(state => {\n      const pile = ld.cloneDeep(state.pile);\n      pile.unshift(drawnCard);\n      return { pile };\n    });\n  }\n\n  drawCard() {\n    const drawnCard = ld.last(this.state.stack);\n    this.setState(state => {\n      state.stack.pop();\n    });\n    this.addToPile(drawnCard);\n  }\n\n  reloadStack() {\n    this.setState(state => {\n      const stack = ld.cloneDeep(state.pile);\n      const pile = [];\n      return { stack, pile };\n    });\n  }\n\n  getDetailsForStack() {\n    let onStackClick = this.drawCard.bind(this);\n    let unicode = CARD_BACK_UNICODE;\n    const stackLength = this.state.stack.length;\n\n    if (stackLength === 0) {\n      onStackClick = this.reloadStack.bind(this);\n      unicode = RELOAD_BUTTON_UNICODE;\n    }\n\n    return { onStackClick, unicode };\n  }\n\n  render() {\n    const { onStackClick, unicode } = this.getDetailsForStack();\n\n    if (this.state.hasWon) {\n      return <PopUp />;\n    }\n\n    return (\n      <main>\n        <div className=\"upper-side\">\n          <Stock\n            onStackClick={onStackClick}\n            unicode={unicode}\n            stackLength={this.state.stack.length}\n            card={ld.head(this.state.pile)}\n          />\n          <Foundations\n            foundation={this.state.foundations}\n            onDrop={this.dropOnFoundation}\n            addToFoundation={this.addToFoundation}\n            removeFromFoundation={this.removeFromFoundation}\n            removeFromPile={this.removeFromPile}\n            removeFromTableau={this.removeFromTableau}\n            foundations={this.state.foundations}\n          />\n        </div>\n        <Tableaus\n          addToTableau={this.addToTableau}\n          removeFromFoundation={this.removeFromFoundation}\n          removeFromPile={this.removeFromPile}\n          removeFromTableau={this.removeFromTableau}\n          onDrop={this.dropOnTableau}\n          tableaus={this.state.tableaus}\n        />\n      </main>\n    );\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Game from './Game';\n\nReactDOM.render(<Game />, document.getElementById('root'));\n"],"sourceRoot":""}