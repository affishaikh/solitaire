(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,t){e.exports=t(18)},18:function(e,a,t){"use strict";t.r(a);var r=t(0),o=t.n(r),n=t(11),i=t.n(n),c=t(2),u=t(4),d=t(6),s=t(5),l=t(7),p=t(1),m=(t(8),function(e){function a(){var e,t;Object(c.a)(this,a);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=Object(d.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).drag=function(e){e.dataTransfer.setData("text",e.target.id)},t}return Object(l.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container purple card",onClick:this.props.onClick},this.props.unicode)}}]),a}(o.a.Component)),b=function(e){function a(){return Object(c.a)(this,a),Object(d.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.card,a=e.unicode,t=e.color;this.props.drag&&(this.drag=this.props.drag);var r="card "+t;return o.a.createElement("div",{draggable:"true",id:a,onDragStart:this.props.drag,className:r},a)}}]),a}(o.a.Component),h=function(e){function a(){return Object(c.a)(this,a),Object(d.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(u.a)(a,[{key:"drag",value:function(e){e.dataTransfer.setData("id",e.target.id),e.dataTransfer.setData("sourceId",e.target.parentNode.id)}},{key:"render",value:function(){return this.props.card?o.a.createElement("div",{className:"container",id:"pile"},o.a.createElement(b,{drag:this.drag.bind(this),card:this.props.card})):o.a.createElement("div",{className:"container"})}}]),a}(o.a.Component),v=function(e){function a(){return Object(c.a)(this,a),Object(d.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"stock-side"},o.a.createElement(m,{unicode:this.props.unicode,stackLength:this.props.stackLength,onClick:this.props.onStackClick}),o.a.createElement(h,{card:this.props.card}))}}]),a}(o.a.Component),f=[{type:"spade",number:1,color:"black",unicode:"\ud83c\udca1"},{type:"spade",number:2,color:"black",unicode:"\ud83c\udca2"},{type:"spade",number:3,color:"black",unicode:"\ud83c\udca3"},{type:"spade",number:4,color:"black",unicode:"\ud83c\udca4"},{type:"spade",number:5,color:"black",unicode:"\ud83c\udca5"},{type:"spade",number:6,color:"black",unicode:"\ud83c\udca6"},{type:"spade",number:7,color:"black",unicode:"\ud83c\udca7"},{type:"spade",number:8,color:"black",unicode:"\ud83c\udca8"},{type:"spade",number:9,color:"black",unicode:"\ud83c\udca9"},{type:"spade",number:10,color:"black",unicode:"\ud83c\udcaa"},{type:"spade",number:11,color:"black",unicode:"\ud83c\udcab"},{type:"spade",number:12,color:"black",unicode:"\ud83c\udcad"},{type:"spade",number:13,color:"black",unicode:"\ud83c\udcae"},{type:"club",number:1,color:"black",unicode:"\ud83c\udcd1"},{type:"club",number:2,color:"black",unicode:"\ud83c\udcd2"},{type:"club",number:3,color:"black",unicode:"\ud83c\udcd3"},{type:"club",number:4,color:"black",unicode:"\ud83c\udcd4"},{type:"club",number:5,color:"black",unicode:"\ud83c\udcd5"},{type:"club",number:6,color:"black",unicode:"\ud83c\udcd6"},{type:"club",number:7,color:"black",unicode:"\ud83c\udcd7"},{type:"club",number:8,color:"black",unicode:"\ud83c\udcd8"},{type:"club",number:9,color:"black",unicode:"\ud83c\udcd9"},{type:"club",number:10,color:"black",unicode:"\ud83c\udcda"},{type:"club",number:11,color:"black",unicode:"\ud83c\udcdb"},{type:"club",number:12,color:"black",unicode:"\ud83c\udcdd"},{type:"club",number:13,color:"black",unicode:"\ud83c\udcde"},{type:"diamond",number:1,color:"red",unicode:"\ud83c\udcc1"},{type:"diamond",number:2,color:"red",unicode:"\ud83c\udcc2"},{type:"diamond",number:3,color:"red",unicode:"\ud83c\udcc3"},{type:"diamond",number:4,color:"red",unicode:"\ud83c\udcc4"},{type:"diamond",number:5,color:"red",unicode:"\ud83c\udcc5"},{type:"diamond",number:6,color:"red",unicode:"\ud83c\udcc6"},{type:"diamond",number:7,color:"red",unicode:"\ud83c\udcc7"},{type:"diamond",number:8,color:"red",unicode:"\ud83c\udcc8"},{type:"diamond",number:9,color:"red",unicode:"\ud83c\udcc9"},{type:"diamond",number:10,color:"red",unicode:"\ud83c\udcca"},{type:"diamond",number:11,color:"red",unicode:"\ud83c\udccb"},{type:"diamond",number:12,color:"red",unicode:"\ud83c\udccd"},{type:"diamond",number:13,color:"red",unicode:"\ud83c\udcce"},{type:"heart",number:1,color:"red",unicode:"\ud83c\udcb1"},{type:"heart",number:2,color:"red",unicode:"\ud83c\udcb2"},{type:"heart",number:3,color:"red",unicode:"\ud83c\udcb3"},{type:"heart",number:4,color:"red",unicode:"\ud83c\udcb4"},{type:"heart",number:5,color:"red",unicode:"\ud83c\udcb5"},{type:"heart",number:6,color:"red",unicode:"\ud83c\udcb6"},{type:"heart",number:7,color:"red",unicode:"\ud83c\udcb7"},{type:"heart",number:8,color:"red",unicode:"\ud83c\udcb8"},{type:"heart",number:9,color:"red",unicode:"\ud83c\udcb9"},{type:"heart",number:10,color:"red",unicode:"\ud83c\udcba"},{type:"heart",number:11,color:"red",unicode:"\ud83c\udcbb"},{type:"heart",number:12,color:"red",unicode:"\ud83c\udcbd"},{type:"heart",number:13,color:"red",unicode:"\ud83c\udcbe"}],y=function(e){return f.find(function(a){return a.unicode===e})},k=function(e){return+e.split("-")[1]},F=t(3),O=t.n(F),T=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(d.a)(this,Object(s.a)(a).call(this,e))).drop=t.drop.bind(Object(p.a)(Object(p.a)(t))),t.allowDrop=t.allowDrop.bind(Object(p.a)(Object(p.a)(t))),t.addToFoundation=t.props.addToFoundation,t.removeFromFoundation=t.props.removeFromFoundation,t.removeFromPile=t.props.removeFromPile,t.removeFromTableau=t.props.removeFromTableau,t}return Object(l.a)(a,e),Object(u.a)(a,[{key:"allowDrop",value:function(e){e.preventDefault()}},{key:"drag",value:function(e){e.dataTransfer.setData("id",e.target.id),e.dataTransfer.setData("sourceId",e.target.parentNode.id)}},{key:"getIndex",value:function(e){return+e.split("-")[1]}},{key:"areConsecutiveOfSameSuit",value:function(e,a){return e.type===a.type&&e.number===a.number-1}},{key:"canPlayedOnFoundation",value:function(e){if(0===this.props.foundation.length)return 1===e.number;var a=O.a.last(this.props.foundation);return!!this.areConsecutiveOfSameSuit(a,e)||void 0}},{key:"drop",value:function(e){e.preventDefault();var a=e.dataTransfer.getData("id"),t=e.dataTransfer.getData("sourceId"),r=y(a),o=k(this.props.id);if(this.canPlayedOnFoundation(r)){this.addToFoundation(o,r);var n=k(t);return t.startsWith("tableau")?this.removeFromTableau(n):t.startsWith("foundation")?this.removeFromFoundation(n):void this.removeFromPile()}}},{key:"render",value:function(){var e=O.a.last(this.props.foundation);return e?o.a.createElement("div",{id:this.props.id,onDragOver:this.allowDrop,onDrop:this.drop,className:"container"},o.a.createElement(b,{drag:this.drag.bind(this),card:e})):o.a.createElement("div",{id:this.props.id,onDragOver:this.allowDrop,onDrop:this.drop,className:"container"})}}]),a}(o.a.Component),D=function(e){function a(){return Object(c.a)(this,a),Object(d.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(u.a)(a,[{key:"createFoundations",value:function(e){var a=this.props.foundations;return o.a.createElement(T,{id:"foundation-"+e,key:"foundation-"+e,onDrop:this.props.onDrop,addToFoundation:this.props.addToFoundation,removeFromFoundation:this.props.removeFromFoundation,removeFromPile:this.props.removeFromPile,removeFromTableau:this.props.removeFromTableau,foundation:a[e]})}},{key:"render",value:function(){var e=[0,1,2,3].map(this.createFoundations.bind(this));return o.a.createElement("div",{className:"foundations"},e)}}]),a}(o.a.Component),j=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(d.a)(this,Object(s.a)(a).call(this,e))).allowDrop=function(e){e.preventDefault()},t.drop=t.drop.bind(Object(p.a)(Object(p.a)(t))),t.addToTableau=t.props.addToTableau,t.removeFromPile=t.props.removeFromPile,t.removeFromFoundation=t.props.removeFromFoundation,t.removeFromTableau=t.props.removeFromTableau,t}return Object(l.a)(a,e),Object(u.a)(a,[{key:"createFaceDownCards",value:function(e){var a={unicode:"\ud83c\udca0",color:"purple"};return e.map(function(){return o.a.createElement("div",{className:"tableau-card-container"},o.a.createElement(b,{card:a}))})}},{key:"createFaceUpCard",value:function(e){var a=this;return e.map(function(e){return o.a.createElement("div",{className:"tableau-card-container"},o.a.createElement(b,{drag:a.drag.bind(a),card:e}))})}},{key:"createCards",value:function(e){return{faceDownCards:this.createFaceDownCards(e.faceDownCards),faceUpCards:this.createFaceUpCard(e.faceUpCards)}}},{key:"drag",value:function(e){e.dataTransfer.setData("id",e.target.id),e.dataTransfer.setData("sourceId",e.target.parentNode.parentNode.id)}},{key:"getIndex",value:function(e){return+e.split("-")[1]}},{key:"isAlternateDescendant",value:function(e,a){return e.color!==a.color&&e.number===a.number+1}},{key:"isTableauEmpty",value:function(){var e=this.props.tableau,a=e.faceUpCards,t=e.faceDownCards;return 0===a.length&&0===t.length}},{key:"canPlayedOnTableau",value:function(e){var a=this.props.tableau.faceUpCards,t=O.a.last(a);return this.isTableauEmpty()?13===e.number:!!this.isAlternateDescendant(t,e)}},{key:"drop",value:function(e){var a=e.dataTransfer.getData("sourceId"),t=e.dataTransfer.getData("id"),r=k(a),o=k(this.props.id),n=y(t);if(this.canPlayedOnTableau(n))return this.addToTableau(o,n),a.startsWith("pile")?this.removeFromPile():a.startsWith("foundation")?this.removeFromFoundation(r):void this.removeFromTableau(r)}},{key:"render",value:function(){var e=this.props.tableau;if(0===e.faceDownCards.length&&0===e.faceUpCards.length)return o.a.createElement("div",{onDragOver:this.allowDrop,onDrop:this.drop,id:this.props.id,className:"tableau"},o.a.createElement("div",{className:"tableau-card-container"}));var a=this.createCards(e),t=a.faceDownCards,r=a.faceUpCards;return o.a.createElement("div",{onDragOver:this.allowDrop,onDrop:this.drop,className:"tableau",id:this.props.id},t," ",r)}}]),a}(o.a.Component),g=function(e){function a(){return Object(c.a)(this,a),Object(d.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(l.a)(a,e),Object(u.a)(a,[{key:"createTableaus",value:function(e){var a=this,t=0;return e.map(function(e){var r="tableau-"+t++;return o.a.createElement(j,{addToTableau:a.props.addToTableau,removeFromFoundation:a.props.removeFromFoundation,removeFromPile:a.props.removeFromPile,removeFromTableau:a.props.removeFromTableau,onDrop:a.props.onDrop,id:r,key:r,tableau:e})})}},{key:"render",value:function(){var e=this.props.tableaus;return o.a.createElement("div",{className:"tableaus"},this.createTableaus(e))}}]),a}(o.a.Component),C=function e(a,t,r,o){Object(c.a)(this,e),this.type=a,this.number=t,this.unicode=r,this.color=o},w=function(e){function a(e){var t;Object(c.a)(this,a);var r=(t=Object(d.a)(this,Object(s.a)(a).call(this,e))).createDeck(),o=t.createTableausFromDeck(O.a.cloneDeep(r)),n=o.stack,i=o.tableaus;return t.addToFoundation=t.addToFoundation.bind(Object(p.a)(Object(p.a)(t))),t.addToTableau=t.addToTableau.bind(Object(p.a)(Object(p.a)(t))),t.removeFromPile=t.removeFromPile.bind(Object(p.a)(Object(p.a)(t))),t.removeFromFoundation=t.removeFromFoundation.bind(Object(p.a)(Object(p.a)(t))),t.removeFromTableau=t.removeFromTableau.bind(Object(p.a)(Object(p.a)(t))),t.state={tableaus:i,stack:n,foundations:[[],[],[],[]],pile:[]},t}return Object(l.a)(a,e),Object(u.a)(a,[{key:"getIndex",value:function(e){return e.split("-")[1]}},{key:"isSourceFoundation",value:function(e){return e.startsWith("foundation")}},{key:"isSwappingRequired",value:function(e){return 0===e.faceUpCards.length&&e.faceDownCards.length>0}},{key:"removeFromTableau",value:function(e){var a=this;this.setState(function(t){var r=O.a.cloneDeep(t.tableaus),o=r[e];if(o.faceUpCards.pop(),a.isSwappingRequired(o)){var n=O.a.last(o.faceDownCards);o.faceDownCards.pop(),o.faceUpCards.push(n)}return{tableaus:r}})}},{key:"addToTableau",value:function(e,a){this.setState(function(t){var r=O.a.cloneDeep(t.tableaus);return r[e].faceUpCards.push(a),{tableaus:r}})}},{key:"createDeck",value:function(){var e=f.map(function(e){return new C(e.type,e.number,e.unicode,e.color)});return O.a.shuffle(e)}},{key:"createTableausFromDeck",value:function(e){for(var a=[],t=O.a.cloneDeep(e),r=1;r<=7;r++){var o=t.splice(-r),n={faceDownCards:o.slice(0,o.length-1),faceUpCards:o.slice(-1)};a.push(n)}return{stack:t,tableaus:a}}},{key:"removeFromPile",value:function(){this.setState(function(e){var a=O.a.cloneDeep(e.pile);return a.shift(),{pile:a}})}},{key:"removeFromFoundation",value:function(e){this.setState(function(a){var t=O.a.cloneDeep(a.foundations);return t[e].pop(),{foundations:t}})}},{key:"addToFoundation",value:function(e,a){this.setState(function(t){var r=O.a.cloneDeep(t.foundations);return r[e].push(a),{foundations:r}})}},{key:"addToPile",value:function(e){this.setState(function(a){var t=O.a.cloneDeep(a.pile);return t.unshift(e),{pile:t}})}},{key:"drawCard",value:function(){var e=O.a.last(this.state.stack);this.setState(function(e){e.stack.pop()}),this.addToPile(e)}},{key:"reloadStack",value:function(){this.setState(function(e){return{stack:O.a.cloneDeep(e.pile),pile:[]}})}},{key:"getDetailsForStack",value:function(){var e=this.drawCard.bind(this),a="\ud83c\udca0";return 0===this.state.stack.length&&(e=this.reloadStack.bind(this),a="\u21bb"),{onStackClick:e,unicode:a}}},{key:"render",value:function(){var e=this.getDetailsForStack(),a=e.onStackClick,t=e.unicode;return o.a.createElement("main",null,o.a.createElement("div",{className:"upper-side"},o.a.createElement(v,{onStackClick:a,unicode:t,stackLength:this.state.stack.length,card:O.a.head(this.state.pile)}),o.a.createElement(D,{foundation:this.state.foundations,onDrop:this.dropOnFoundation,addToFoundation:this.addToFoundation,removeFromFoundation:this.removeFromFoundation,removeFromPile:this.removeFromPile,removeFromTableau:this.removeFromTableau,foundations:this.state.foundations})),o.a.createElement(g,{addToTableau:this.addToTableau,removeFromFoundation:this.removeFromFoundation,removeFromPile:this.removeFromPile,removeFromTableau:this.removeFromTableau,onDrop:this.dropOnTableau,tableaus:this.state.tableaus}))}}]),a}(o.a.Component);i.a.render(o.a.createElement(w,null),document.getElementById("root"))},8:function(e,a,t){}},[[12,1,2]]]);
//# sourceMappingURL=main.ca10c1a9.chunk.js.map